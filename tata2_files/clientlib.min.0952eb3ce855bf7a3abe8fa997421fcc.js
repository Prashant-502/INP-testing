var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(c){return c.raw=c};$jscomp.createTemplateTagFirstArgWithRaw=function(c,b){c.raw=b;return c};var _formData="",_thisForm="",_authorDataObj="",timerdigit="",popupMinutes="",popupSeconds="",popupTimerId="",otpTokenWfId="",callBackFunApi="",_globalOtpVerifyObj="";
document.addEventListener("DOMContentLoaded",function(c){function b(a,d){d=d||document.querySelectorAll(".otp-popup .otp-num-input");d.forEach(function(f){f.value="";f.classList.remove("blueborder")});for(var e=0;e<d.length;e++)d[e].value=a[e]||"",d[e].classList.add("blueborder");a=Math.min(a.length,d.length)-1;d[a]&&d[a].focus()}checkElemPresent(".trs-new-otp-popup-closebtn",!0).forEach(function(a){a.addEventListener("click",function(d){otpPopupShow(!1)})});checkElemPresent(".trs-new-otp-popup-editbtn",
!0).forEach(function(a){a.addEventListener("click",function(d){otpEditLogic(this)})});checkElemPresent(".trs-new-otp-popup-input",!0).forEach(function(a){a.addEventListener("input",function(d){this.value=this.value.replace(/[^0-9]+/g,"")});a.addEventListener("keyup",function(d){otpInputLogic(this,d);isCheckedOTPInput()?(document.querySelector(".trs-new-otp-popup-submitbtn").disabled=!1,document.querySelector(".trs-new-otp-popup-submitbtn").classList.remove("disabled")):(document.querySelector(".trs-new-otp-popup-submitbtn").disabled=
!0,document.querySelector(".trs-new-otp-popup-submitbtn").classList.add("disabled"))})});checkElemPresent(".trs-new-otp-popup-resendbtn",!0).forEach(function(a){a.addEventListener("click",function(d){this.disabled=!0;clearTimeout(popupTimerId);document.querySelector(".trs-new-otp-popup-errmsg").classList.add("dsp-none");document.querySelectorAll(".trs-new-otp-popup-input").forEach(function(e){e.value="";e.classList.remove("blueborder");e.classList.remove("trs-new-redBorder")});triggerOtpPopup(_thisForm,
_formData,_authorDataObj,callBackFunApi,_globalOtpVerifyObj,!0)})});checkElemPresent(".trs-new-otp-popup-submitbtn",!0).forEach(function(a){a.addEventListener("click",function(d){verifyOtpPopup(_thisForm,_formData,callBackFunApi)})});checkElemPresent(".otpfailpopup_submit",!0).forEach(function(a){a.addEventListener("click",function(d){otpApiFailPopup(!1,"",_thisForm);callBackFunApi(_formData,_authorDataObj,_thisForm)})});checkElemPresent(".otpfailpopup__closebutton",!0).forEach(function(a){a.addEventListener("click",
function(d){otpApiFailPopup(!1,"",_thisForm)})});checkElemPresent(".otp-popup .otp-num-input",!0).forEach(function(a,d,e){0===d&&a.addEventListener("input",function(){var f=a.value.trim().replace(/\D/g,"");6===f.length?(b(f,e),isCheckedOTPInput()?(document.querySelector(".trs-new-otp-popup-submitbtn").disabled=!1,document.querySelector(".trs-new-otp-popup-submitbtn").classList.remove("disabled")):(document.querySelector(".trs-new-otp-popup-submitbtn").disabled=!0,document.querySelector(".trs-new-otp-popup-submitbtn").classList.add("disabled"))):
1!=f.length&&(a.value="")})})});
function otpPopupShow(c,b){c?(popupMinutes=1,popupTimerId="",popupSeconds=60,_thisForm=b,document.querySelector(".trs-new-otp-popup-input").focus(),document.querySelector(".trs-new-otp-popup").classList.add("active"),document.querySelector(".trs-new-otp-popup-timer").innerText="01:60",document.querySelector(".trs-new-otp-popup-submitbtn").disabled=!0,document.querySelector(".trs-new-otp-popup-overlay").classList.add("active"),document.querySelector(".trs-new-otp-popup-input").classList.add("blueborder"),document.querySelector(".trs-new-otp-popup-input").focus(),
document.querySelector(".trs-new-otp-popup-submitbtn").classList.add("disabled"),popupTimerId=setInterval(otpTimerCountdown,1E3)):(clearTimeout(popupTimerId),document.querySelector(".trs-new-otp-popup").classList.remove("active"),document.querySelector(".trs-new-otp-popup-overlay").classList.remove("active"),document.querySelectorAll(".trs-new-otp-popup-input").forEach(function(a){a.value="";a.classList.remove("blueborder");a.classList.remove("trs-new-redBorder")}),document.querySelector(".trs-new-otp-popup-timer").innerText=
"01:60",document.querySelector(".trs-new-otp-popup-submitbtn").disabled=!0,document.querySelector(".trs-new-otp-popup-resendbtn").disabled=!0,document.querySelector(".trs-new-otp-popup-errmsg").classList.add("dsp-none"),document.querySelector(".trs-new-otp-popup-submitbtn").classList.add("disabled"))}
function otpApiFailPopup(c,b,a){_thisForm=a;c?(document.querySelector(".otpfailpopup_errortext").innerText=null==b?void 0:b.trim(),document.querySelector(".otpfailpopup").classList.remove("dsp-none"),document.querySelector(".trs-new-otp-popup-overlay").classList.add("active"),document.querySelector(".otpfailpopup_errortext").classList.remove("dsp-none")):(document.querySelector(".otpfailpopup_errortext").innerText="",document.querySelector(".otpfailpopup").classList.add("dsp-none"),document.querySelector(".otpfailpopup_errortext").classList.add("dsp-none"),
document.querySelector(".trs-new-otp-popup-overlay").classList.remove("active"))}function otpInputLogic(c,b){var a=c.value,d=c.nextElementSibling,e=c.previousElementSibling;8==b.keyCode&&0==a.length&&e&&e.classList.contains("otp-num-input")?(e.focus(),c.classList.remove("blueborder")):1==a.length&&d&&d.classList.contains("otp-num-input")&&(d.focus(),d.classList.add("blueborder"))}
function otpTimerCountdown(){-1==popupSeconds?1==popupMinutes?(popupMinutes=0,popupSeconds=60):(clearTimeout(popupTimerId),document.querySelectorAll(".trs-new-otp-popup-resendbtn").forEach(function(c){return c.disabled=!1})):(timerdigit=2==String(popupSeconds).length?popupSeconds:"0"+popupSeconds,document.querySelector(".trs-new-otp-popup-timer").innerText="0"+popupMinutes+":"+timerdigit,popupSeconds--)}
function otpEditLogic(c){c=_thisForm.querySelector(".otpemailpopup");var b=_thisForm.querySelector(".otpmobilepopup"),a=_thisForm.querySelector(".dataobjotppopup");"91"==JSON.parse(a.dataset.interList).countryCode?(b.focus(),b.value=""):(c.focus(),c.value="");otpPopupShow(!1)}function isCheckedOTPInput(){var c=[];document.querySelectorAll(".trs-new-otp-popup-input").forEach(function(b){if(b.value)c.push(b.value);else return!1});if(6==c.length)return!0}
function triggerOtpPopup(c,b,a,d,e,f){f=void 0===f?!1:f;newToggleLoader(!0);var l="sms";_formData=b;_authorDataObj=a;callBackFunApi=d;_globalOtpVerifyObj=e||"";var h=b.countryDetails,n,k=null==b?void 0:null==(n=b.phoneno)?void 0:n.trim(),g=document.querySelector(".otpfailpopup .popupauthor").dataset;if("91"!=(null==h?void 0:h.countryCode)){l="email";var m;k=null==b?void 0:null==(m=b.email)?void 0:m.trim();document.querySelector(".trs-contactMode").innerText="Email";document.querySelector(".trs-new-otp-popup-contactno").innerText=
""+k}else document.querySelector(".trs-contactMode").innerText="Mobile Number",document.querySelector(".trs-new-otp-popup-contactno").innerText="+91 "+k;a=triggerOtpRequest(k,l);apiUtility.TRIGGER_OTP_CALSERVICE(a).then(function(p){newToggleLoader(!1);if(200==p.statusCode){try{var r,t,w={linkType:g.linktype||"lead form button",pageName:getPageNameFromURL(),siteSection:getSiteSectionFromURL(),nri:(null==b?void 0:null==(r=b.analytics)?void 0:r.nriVal)||"",productId:g.productid||"",productName:g.productname||
"",siteSubsection:getPageNameFromURL(),linkPosition:g.linkposition||"",productCategory:g.productcategory||"",linkName:(null==b?void 0:null==(t=b.analytics)?void 0:t.linkname)||"",countryCode:(null==h?void 0:h.countryCode)||""};analyticsUtility.leadGenerateOTP(k,f,w)}catch(q){console.log(q)}var u;otpTokenWfId=null==p?void 0:null==(u=p.responseJson)?void 0:u._wfId;try{var v,x={pageType:"popup",mobileNo:k||"",pageName:getPageNameFromURL()+":verify otp popup",siteSection:getSiteSectionFromURL(),nri:(null==
b?void 0:null==(v=b.analytics)?void 0:v.nriVal)||"",siteSubsection:getPageNameFromURL(),productId:g.productid||getPageInfo.productId||"",productName:g.productname||getPageInfo.pageProductName||"",productCategory:g.productcategory||getPageInfo.productCategory||""};setTimeout(function(){analyticsUtility.objectWiseGenericLoad(x)},1E3)}catch(q){console.log(q)}otpPopupShow(!0,c)}else otpApiFailPopup(!0,g.errorone,c)}).catch(function(p){newToggleLoader(!1);otpApiFailPopup(!0,g.errorone,c)})}
function verifyOtpPopup(c,b,a){var d=[],e="sms",f=b.countryDetails,l,h=null==b?void 0:null==(l=b.phoneno)?void 0:l.trim(),n=document.querySelector(".otpfailpopup .popupauthor").dataset;if("91"!=(null==f?void 0:f.countryCode)){e="email";var k;h=null==b?void 0:null==(k=b.email)?void 0:k.trim()}document.querySelectorAll(".trs-new-otp-popup-input").forEach(function(g){d.push(g.value)});l=d.join("");e=validateOtpRequest(h,otpTokenWfId,e,l);apiUtility.VALIDAT_OTP_CALSERVICE(e).then(function(g){if(200==
g.statusCode)_globalOtpVerifyObj&&("91"!=(null==f?void 0:f.countryCode)?_globalOtpVerifyObj.otpVerifyEmail.push(h):_globalOtpVerifyObj.otpVerifyNumber.push(h)),otpPopupShow(!1),a(b,_authorDataObj,c);else{try{analyticsUtility.leadOTPVerifyFailure()}catch(m){console.log(m)}document.querySelector(".trs-new-otp-popup-errmsg").classList.remove("dsp-none");document.querySelectorAll(".trs-new-otp-popup-input").forEach(function(m){m.classList.add("trs-new-redBorder");m.classList.remove("blueborder")})}}).catch(function(g){otpPopupShow(!1);
otpApiFailPopup(!0,n.errortwo,c)})};