!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).uuidv4=t()}(this,function(){"use strict";var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),t=new Uint8Array(16);function n(){if(!e)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(t)}for(var a=[],o=0;o<256;++o)a.push((o+256).toString(16).substr(1));return function(e,t,o){"string"==typeof e&&(t="binary"===e?new Uint8Array(16):null,e=null);var i,r,s,c=(e=e||{}).random||(e.rng||n)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,t){for(var l=o||0,f=0;f<16;++f)t[l+f]=c[f];return t}return i=c,r=0,((s=a)[i[r+0]]+s[i[r+1]]+s[i[r+2]]+s[i[r+3]]+"-"+s[i[r+4]]+s[i[r+5]]+"-"+s[i[r+6]]+s[i[r+7]]+"-"+s[i[r+8]]+s[i[r+9]]+"-"+s[i[r+10]]+s[i[r+11]]+s[i[r+12]]+s[i[r+13]]+s[i[r+14]]+s[i[r+15]]).toLowerCase()}}),function(e){e.lmSMTObj=e.lmSMTObj||[],lmSMTObj.jsonData={},lmSMTObj.cookieDomain=".tataaia.com",lmSMTObj.domainList=[".tataaia.com"],lmSMTObj.clickTrackers=null,lmSMTObj.initialize=null,lmSMTObj.finalize=null,lmSMTObj.pixelFireStatus=!1,lmSMTObj.onsiteEndpoint="mu-ax-n.lemnisk.co/",lmSMTObj.smartTagversion="0.01v",lmSMTObj.libraryName="javascript",lmSMTObj.callbackFunction=null,lmSMTObj.writeKey=lmSMTObj.writeKey||null,lmSMTObj.vizNotifObject=!1,lmSMTObj.blockGetContentCall=!1,lmSMTObj.baseUrl="https://mu-pl.lemnisk.co/analyze/analyze.php",lmSMTObj.resetFields=function(){lmSMTObj.jsonData={},lmSMTObj.pixelFireStatus=!1,lmSMTObj.callbackFunction=null},lmSMTObj.parse=function(e){try{if(e&&(lmSMTObj.resetFields(),lmSMTObj.argType=e),!lmSMTObj.pixelFireStatus)try{lmSMTObj.fireAnalyze()}catch(t){lmSMTObj.jsonData.err=t,lmSMTObj.fireAnalyze()}}catch(n){lmSMTObj.jsonData.err=n,lmSMTObj.fireAnalyze()}},lmSMTObj.getUTMparams=function(){for(var e,t=RegExp("(?:\\?|&)(utm_[^=]+)=(.*?)(?=&|$)","gi"),n={};null!=(e=t.exec(document.URL));)n[e[1]]=e[2];return Object.keys(n).length>0?n:void 0},lmSMTObj.getTimeZone=function(){if("undefined"!=typeof Intl&&"function"==typeof Intl.DateTimeFormat){var e=Intl.DateTimeFormat().resolvedOptions();if(e&&e.timeZone)return e.timeZone}},lmSMTObj.getEventParams=function(e){if("object"==typeof e||null==e){for(var t in null==e&&(e={}),lmSMTObj.jsonData.properties={},e)e.hasOwnProperty(t)&&(lmSMTObj.jsonData.properties[t]=e[t]);lmSMTObj.jsonData.properties.path=e.path?e.path:location.pathname,(e.referrer||document.referrer)&&(lmSMTObj.jsonData.properties.referrer=e.referrer?e.referrer:document.referrer),(e.search||location.search)&&(lmSMTObj.jsonData.properties.search=e.search?e.search:location.search),lmSMTObj.jsonData.properties.title=e.title?e.title:document.title,lmSMTObj.jsonData.properties.url=e.url?e.url:document.URL}else lmSMTObj.jsonData.context.page={},lmSMTObj.jsonData.context.page.path=location.pathname,document.referrer&&(lmSMTObj.jsonData.context.page.referrer=document.referrer),location.search&&(lmSMTObj.jsonData.context.page.search=location.search),lmSMTObj.jsonData.context.page.title=document.title,lmSMTObj.jsonData.context.page.url=document.URL},lmSMTObj.getAMCVCookie=function(){try{var e=/AMCV_([^;]+)/,t=document.cookie.match(e);if((t=t?t[1]:null)&&null!==t){var n=t.split("=")[1];n=decodeURIComponent(n),e=/MCMID\|([^|]+)/;var a=n.match(e),o=a?a[1]:null;if(o&&null!==o)return o}}catch(i){return""}},lmSMTObj.getCommonParams=function(t){if(lmSMTObj.getCookie("userId"))var n=lmSMTObj.getCookie("userId");if(lmSMTObj.getCookie("_ga"))var a=lmSMTObj.getCookie("_ga");if(lmSMTObj.getCookie("_fbc"))var o=lmSMTObj.getCookie("_fbc");if(lmSMTObj.getCookie("_fbp"))var i=lmSMTObj.getCookie("_fbp");if(lmSMTObj.getAMCVCookie())var r=lmSMTObj.getAMCVCookie();try{"object"==typeof t&&(t.email&&btoa(t.email)&&(t.email=decodeURIComponent(e.atob(t.email))),t.phone&&btoa(t.phone)&&(t.phone=decodeURIComponent(e.atob(t.phone))))}catch(s){}if(lmSMTObj.initialize(),lmSMTObj.jsonData.id=lmSMTObj.getCookie("_vz"),lmSMTObj.jsonData.userId=n,lmSMTObj.jsonData.originalTimestamp=new Date().getTime(),lmSMTObj.jsonData.messageId=uuidv4(),lmSMTObj.jsonData.writeKey=lmSMTObj.writeKey,lmSMTObj.jsonData.otherIds={_ga:a,_fbc:o,_fbp:i,mcmid:r},"object"==typeof t)for(var c in t)t.hasOwnProperty(c)&&(lmSMTObj.jsonData.otherIds[c]=t[c]);lmSMTObj.jsonData.context={library:{name:lmSMTObj.libraryName,version:lmSMTObj.version},userAgent:{deviceType:lmSMTObj.getDevice(),osType:lmSMTObj.getOS(),osVersion:lmSMTObj.getOsVersion(),browser:lmSMTObj.checkBrowser(),ua:navigator.userAgent},utm:lmSMTObj.getUTMparams(),user_tz:lmSMTObj.getTimeZone()}},lmSMTObj.init=function(e){lmSMTObj.writeKey=e,lmSMTObj.initialize()},lmSMTObj.identify=function(e,t,n,a){try{if(lmSMTObj.resetFields(),lmSMTObj.jsonData.customerProperties={},lmSMTObj.jsonData.type="identify","function"==typeof n&&(a=n,n=null),"function"==typeof t&&(a=t,n=t=null),"function"==typeof e&&(a=e,n=t=e=null),"object"==typeof e&&(n=t,t=e,e=null),e&&(lmSMTObj.jsonData.userId=e,lmSMTObj.setCookie("userId",e,365,lmSMTObj.cookieDomain)),lmSMTObj.getCommonParams(n),lmSMTObj.getEventParams("identify"),"object"==typeof t)for(var o in t)t.hasOwnProperty(o)&&(lmSMTObj.jsonData.customerProperties[o]=t[o]);if(a&&"function"!=typeof a)throw TypeError("argument passed to callback is not valid type");lmSMTObj.parse(),a&&setTimeout(a,500)}catch(i){console.log(i)}},lmSMTObj.track=function(t,n,a,o){try{if(lmSMTObj.resetFields(),lmSMTObj.jsonData.properties={},lmSMTObj.jsonData.type="track",t&&"string"==typeof t)lmSMTObj.jsonData.event=t;else throw TypeError("First argument has to be string");for(var i in"function"==typeof a&&(o=a,a=null),"function"==typeof n&&(o=n,a=null,n=null),lmSMTObj.getCommonParams(a),lmSMTObj.getEventParams("track"),n)n.hasOwnProperty(i)&&(lmSMTObj.jsonData.properties[i]=n[i]);"OSNLeadFormSubmitted"===t&&n.leadSubmitted&&(lmSMTObj.blockGetContentCall=!0);try{lmSMTObj.jsonData.properties&&(lmSMTObj.jsonData.properties.fullName&&btoa(lmSMTObj.jsonData.properties.fullName)&&/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(lmSMTObj.jsonData.properties.fullName)&&isNaN(lmSMTObj.jsonData.properties.fullName)&&!/^[a-zA-Z]+$/.test(lmSMTObj.jsonData.properties.fullName)&&(lmSMTObj.jsonData.properties.fullName=decodeURIComponent(e.atob(lmSMTObj.jsonData.properties.fullName))),lmSMTObj.jsonData.properties.firstName&&(lmSMTObj.jsonData.properties.firstName=decodeURIComponent(e.atob(lmSMTObj.jsonData.properties.firstName))),lmSMTObj.jsonData.properties.lastName&&(lmSMTObj.jsonData.properties.lastName=decodeURIComponent(e.atob(lmSMTObj.jsonData.properties.lastName))))}catch(r){}lmSMTObj.parse(),o&&setTimeout(o,500)}catch(s){console.log(s)}},lmSMTObj.page=function(e,t,n,a){try{lmSMTObj.resetFields(),"function"==typeof n&&(a=n,n=null),"function"==typeof t&&(a=t,n=t=null),"function"==typeof e&&(a=e,n=t=e=null),"object"==typeof e&&(n=t,t=e,e=null),lmSMTObj.jsonData.type="page",e&&(lmSMTObj.jsonData.name=e),lmSMTObj.getCommonParams(n),lmSMTObj.getEventParams(t),lmSMTObj.parse(),a&&setTimeout(a,500)}catch(o){console.log(o)}},lmSMTObj.getDevice=function(){var e=navigator.userAgent;return/ipad/i.test(e)||/android|Tablet/ig.test(e)&&!/mobile/i.test(e)?"TABLET":/mqqbrowser|tencenttraveler|baidubrowser|criOS|ucbrowser|mobile|CrMo/ig.test(e)||/opera|opr/ig.test(e)&&/mobi|mini/ig.test(e)?"MOBILE":"DESKTOP"},lmSMTObj.getOS=function(){var t=e.navigator.userAgent,n=e.navigator.platform,a=null;return -1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(n)?a="Mac OS":-1!==["iPhone","iPad","iPod"].indexOf(n)?a="iOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(n)?a="Windows":/Android/.test(t)?a="Android":!a&&/Linux/.test(n)&&(a="Linux"),a},lmSMTObj.getOsVersion=function(){var t,n,a=null;return -1!==e.navigator.userAgent.indexOf("Windows NT 10.0")?a="Windows 10":-1!==e.navigator.userAgent.indexOf("Windows NT 6.2")?a="Windows 8":-1!==e.navigator.userAgent.indexOf("Windows NT 6.1")?a="Windows 7":-1!==e.navigator.userAgent.indexOf("Windows NT 6.0")?a="Windows Vista":-1!==e.navigator.userAgent.indexOf("Windows NT 5.1")?a="Windows XP":-1!==e.navigator.userAgent.indexOf("Windows NT 5.0")?a="Windows 2000":-1!==e.navigator.userAgent.indexOf("Mac")?(n=(t=/(iPhone OS|CPU OS|Mac OS X)\s+([\d_\.]+)/).exec(e.navigator.userAgent))&&n[2]&&(a=n[1]+" "+n[2].replace(/_/g,".")):-1!==e.navigator.userAgent.indexOf("X11")?a="UNIX":-1!==e.navigator.userAgent.indexOf("Linux")?a="Linux":-1!==e.navigator.userAgent.indexOf("Android")&&(n=(t=/Android\s+([\d\.]+)/).exec(e.navigator.userAgent))&&n[1]&&(a="Android "+n[1]),a},lmSMTObj.checkBrowser=function(){var e,t,n,a=navigator.userAgent;return a.indexOf("Firefox")>-1?browser="Firefox":a.indexOf("MSIE")>-1||a.indexOf("rv:")>-1?browser="Internet Explorer":a.indexOf("Edg")>-1?browser="Egde":a.indexOf("OP")>-1?(browser="Opera",n=!0):a.indexOf("Chrome")>-1?(t=!0,browser="Chrome"):a.indexOf("Safari")>-1&&(browser="Safari",e=!0),t&&e&&(e=!1,browser="chrome"),t&&n&&(t=!1,browser="Opera"),browser},lmSMTObj.getCookie=function(e){var t=document.cookie;if(!e)return"";var n=t.split(";");for(var a in n)if(n.hasOwnProperty(a)){var o=n[a].match(/\s*(.*)=(.*)/);if(o&&o[1]===e&&o[2])return o[2]}return""},lmSMTObj.selectDomain=function(){if(lmSMTObj.cookieDomain&&~document.domain.indexOf(lmSMTObj.cookieDomain)&&document.domain.indexOf(lmSMTObj.cookieDomain)+lmSMTObj.cookieDomain.length===document.domain.length)return 1;for(var e=lmSMTObj.domainList,t=1;t<e.length;t++)if(document.domain.indexOf(e[t])+e[t].length===document.domain.length)return lmSMTObj.cookieDomain=e[t],0;return lmSMTObj.cookieDomain=document.domain,-1},lmSMTObj.fireAnalyze=function(){var t="https://mu-pl.lemnisk.co/analyze/cookieCallback.php?cb="+lmSMTObj.cookieDomain;if(!lmSMTObj.pixelFireStatus){var n="https://mu-pl.lemnisk.co/analyze/analyze.php";if(e.XDomainRequest)(xhttp=new XDomainRequest).onload=function(){lmSMTObj.callBackViz(t)},xhttp.open("POST",n,!0),xhttp.withCredentials=!0,xhttp.send(JSON.stringify(lmSMTObj.jsonData));else if(e.XMLHttpRequest){var a=new XMLHttpRequest;a.onreadystatechange=function(){a.readyState===XMLHttpRequest.DONE&&200===a.status&&lmSMTObj.callBackViz(t)},a.open("POST",n,!0),a.withCredentials=!0,a.send(JSON.stringify(lmSMTObj.jsonData))}}},lmSMTObj.detectCampaign=function(){var e="VIZVRM6453";return document.URL,e="VIZVRM6453"},lmSMTObj.initialize=function(){lmSMTObj.selectDomain&&lmSMTObj.selectDomain(),lmSMTObj.clickTrackers="",lmSMTObj.vizidCookie("_vz",lmSMTObj.cookieDomain)},lmSMTObj.OnsiteNotificationTag=function(){if(!lmSMTObj.blockGetContentCall){if(lmSMTObj.vizNotifObject)VizuryNotificationObject&&"function"==typeof VizuryNotificationObject.createDivElementSinglePage&&VizuryNotificationObject.createDivElementSinglePage();else try{var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://cdn25.lemnisk.co/ssp/smtag/GetJsFileEventCapture.js",document.body.appendChild(e),e.onload=function(){try{VizuryNotificationObject.createDivElement(),lmSMTObj.vizNotifObject=!0}catch(e){}},e.onreadystatechange=function(){if("complete"==e.readyState||"loaded"==e.readyState)try{VizuryNotificationObject.createDivElement(),lmSMTObj.vizNotifObject=!0}catch(t){}}}catch(t){}lmSMTObj.blockGetContentCall=!1}},lmSMTObj.callBackViz=function(e){e=lmSMTObj.isSafari()?e+"&sf=y":e;var t=document.getElementsByTagName("script")[0],n=document.createElement("script");n.type="text/javascript",n.src=e,n.async=!0,t.parentNode.insertBefore(n,t),n.onload=function(){try{lmSMTObj.OnsiteNotificationTag()}catch(e){}},n.onreadystatechange=function(){if("complete"==n.readyState||"loaded"==n.readyState)try{lmSMTObj.OnsiteNotificationTag()}catch(e){}}},lmSMTObj.vizidCookie=function(e,t){var n=lmSMTObj.getCookie(e);return n||(lmSMTObj.ftu=1,n=lmSMTObj.generateVizCookie(),lmSMTObj.setCookie(e,n,365,t)),n},lmSMTObj.generateVizCookie=function(){for(var e=lmSMTObj.isSafari()?"vizSF_":"viz_",t=parseInt(new Date().getTime()/1e3,10).toString(16),n=Math.floor(7418186*Math.random()).toString(16);n.length<5;)n+=Math.floor(7418186*Math.random()).toString(16);return e+t+(n=n.slice(n.length-5))},lmSMTObj.isSafari=function(){var t;return Object.prototype.toString.call(e.HTMLElement).indexOf("Constructor")>0||"[object SafariRemoteNotification]"===(t=!e.safari||safari.pushNotification).toString()},lmSMTObj.setCookie=function(e,t,n,a){if(n>0){var o=new Date;o.setDate(o.getDate()+n);var i=encodeURIComponent(t)+(null==n?"":"; expires="+o.toUTCString())+"; path=/"+(a?"; domain="+a:"");document.cookie=e+"="+i}else document.cookie=e+"="+encodeURIComponent(t)},function t(){for(;lmSMTObj.length>0;){var n=Array.prototype.slice.call(lmSMTObj.shift());e.lmSMTObj[n[0]].apply(this,n.slice(1))}}(),"undefined"!=typeof lmSMTObj&&lmSMTObj&&void 0!==lmSMTObj.parse&&(lmSMTObj.pixelFireStatus=!1)}(window);